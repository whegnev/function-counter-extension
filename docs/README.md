# Документация Function Counter Extension
## Общее описание
Function Counter Extension - это плагин для Visual Studio Code, который анализирует исходный код и отображает статистику по количеству функций, операторов ветвления и циклов в реальном времени. Расширение предназначено для разработчиков, желающих быстро оценить сложность и структуру своего кода без использования сторонних инструментов анализа.

## Функции
### analyzeCode
Анализирует исходный код и подсчитывает количество функций, операторов if и циклов для различных языков программирования
- Параметры на вход:
text - Исходный код для анализаlanguage - Идентификатор языка программирования
- Вывод:
Объект со статистикой, содержащий количество функций, операторов if и циклов
Пример:
text: function test() { if (true) { } }
language: javascriptРезультат:
functions: 1, ifs: 1, loops: 0
### showStatsNotification
Функция предназначена для ручного вызова пользователем через Command Palette как альтернатива постоянному отображению статистики в статус-баре

Функция проверяет наличие активного текстового редактора в VS Code, извлекает текст и определяет язык программирования из активного документа, анализирует код с помощью функции analyzeCode для подсчета конструкций и отображает результаты в виде всплывающего уведомления
- Пример:
Вызывается при выполнении команды "Show Code Statistics" showStatsNotification();
- Вывод: "Code Statistics: 3 functions, 2 if statements, 1 loops"
### activate
Активирует расширение при его загрузке в VS Code, создает статус-бар, 
выполняет подписку на события изменения активного редактора и документа, деактивирует расширение при выгрузке из VS Code
 - Параметры:
 context - Контекст расширения, предоставляемый VS Code, используется для управления состоянием расширения и подписки на события
### updateStatusBar
Обновляет текст в статус-баре на основе анализа текущего активного документа, вызывается при событиях изменения документа или смены активного редактора.
Извлекает текст, определяет язык программирования и отображает статистикув формате: [язык] Ф: _ | If: _ | Циклы: _
### deactivate
Деактивирует расиширение при закрытии VS Code: удаляет созданные элементы и отписывается от событий
 

## Архитектура решения
### Основные компоненты системы

Активация:

- Файл: src/extension.ts
- Назначение: Инициализация и активация расширения
- Функционал: Регистрация обработчиков событий и создание счётчиков

Анализ кода:

- Анализатор кода на регулярных выражениях
- Подсчет конструкций в исходном коде
- Поддержка нескольких языков программирования

Status Bar Manager(vscode.StatusBarItem)

- Отображение статистики в реальном времени
- Обновление статистики

Language Detection

- Детектор языка программирования
- Определение синтаксиса для анализа
- Автоматическое распознавание по расширению файла

Event Processing System

- События:onDidChangeTextDocument, onDidChangeActiveTextEditor, onDidSaveTextDocument
- Реакция на изменения в редакторе
- Автоматическое обновление статистики при модификации кода

## Принцип работы:

Активация расширения при запуске VS Code

Создание элемента статус-бара

Подписка на события редактора

При изменении кода - определение языка программирования

Анализ текста с помощью соответствующих regex-шаблонов

Подсчет функций, операторов if и циклов

Обновление статистики в статус-баре

## Входные данные:

Исходный код из активного редактора

Идентификатор языка программирования

События изменения документа

## Выходные данные:

Статистика в формате: [язык] Функции: X | Ifs: Y | Циклы: Z

Визуальное отображение в статус-баре VS Code

## Технические особенности
### Используемые технологии и API
TypeScript

Версия: 4.0+

Назначение: Основной язык разработки

Конфигурация: tsconfig.json

VS Code Extension API

### Ключевые классы:

StatusBarItem

ExtensionContext

TextDocument, TextEditor

workspace, window

### Регулярные выражения

Назначение: Анализ синтаксиса конструкций

Шаблоны: Специфичные для каждого языка

Оптимизация: Минимальные вычислительные затраты

### Event Architecture

Модель: Подписка на события редактора

Обработка: Асинхронное обновление статистики

## Ключевые возможности
### Автоматический анализ кода
- Изменение активного редактора или содержимого файла
- Область применения: Текущий активный документ
- Частота: В реальном времени при каждом изменении

### Мультиязычная поддержка
- JavaScript/TypeScript: function, if(), for(), while()
- Python: def, if:, for:, while:
- Java/C#/C++: объявления методов, if(), for(), while()

### Расположение
Правый нижний угол статус-бара

### Формат
[язык] Ф: X | If: Y | Циклы: Z

### Доступность 
Постоянно видим во время работы с кодом


## Поддержка языков программирования
JavaScript/TypeScript
Python
Java
C#
C/C++

## Описание ключевых файлов:
- src/extension.ts

Тип: TypeScript исходный код

Назначение: Основная логика расширения

Ключевые функции: analyzeCode(), updateStatusBar()

- package.json

Тип: Manifest файл

Назначение: Конфигурация расширения VS Code

Ключевые секции: activationEvents, main, contributes

- README.md

Тип: Пользовательская документация

Назначение: Описание возможностей и инструкции

Содержание: Установка, использование, поддерживаемые языки